(this.webpackJsonpleadersofdigital_tdn_frontend=this.webpackJsonpleadersofdigital_tdn_frontend||[]).push([[0],{101:function(e,t,n){},109:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(9),i=n.n(c),s=(n(101),n(159)),o=n(50),l=n(87),j=n(13),u="/home/snowblower",d="/home/fieldEngineer",b="/login",m="/waiting",h=n(37),p=n.n(h),x=n(51),O=n(52),g=n(45),f=n(20),v=n(155),w=n(152),y=n(160),k=n(154),N=n(164),C=n(111),S=n(150),T=n(151),P=function(){var e=Object(a.useState)(!1),t=Object(f.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(null),i=Object(f.a)(c,2),s=i[0],o=i[1];return{loading:n,request:Object(a.useCallback)(function(){var e=Object(x.a)(p.a.mark((function e(t,n,a,c){var i,s,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.prev=1,i={},a&&(a=JSON.stringify(a),i["Content-Type"]="application/json;charset=utf-8"),c&&(i.Authorization="Basic ".concat(c)),e.next=7,fetch("".concat("https://sheremetyevo.visdom.tech/api-v1/").concat(t),{method:n,body:a,headers:i});case 7:if(s=e.sent,l=null,"POST"!==n&&"GET"!==n){e.next=13;break}return e.next=12,s.json();case 12:l=e.sent;case 13:if(s.ok){e.next=15;break}throw new Error(l?l.message:"Something wrong");case 15:return r(!1),e.abrupt("return",l);case 19:throw e.prev=19,e.t0=e.catch(1),r(!1),o(e.t0.message),e.t0;case 24:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(t,n,a,r){return e.apply(this,arguments)}}(),[]),error:s,clearError:function(){return o(null)}}},E={url:"users/user/",method:"GET"},W={url:function(e){return"tasks/units/".concat(e)},method:"GET"},q=n(165),F=n(161),A=n(2);function G(e){return Object(A.jsx)(F.a,Object(g.a)({elevation:6,variant:"filled"},e))}function z(e){var t=e.open,n=e.kind,a=e.handleClose,r=e.message;return Object(A.jsx)(q.a,{open:t,autoHideDuration:6e3,onClose:function(){return a()},children:Object(A.jsx)(G,{onClose:function(){return a()},severity:n,children:r})})}var I=Object(a.createContext)({}),U=I.Provider,B=n(149),_=n.p+"static/media/logo.6f1dc9fc.png",D=Object(S.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(4)},logo:{marginBottom:e.spacing(4)},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),color:"#fff"}}}));function J(){var e=D(),t=Object(a.useContext)(I),n=P(),r=n.clearError,c=n.request,i=n.loading,s=n.error,o=Object(a.useState)(!1),l=Object(f.a)(o,2),d=l[0],b=l[1],m=Object(a.useState)({login:"",password:""}),h=Object(f.a)(m,2),S=h[0],W=h[1],q=Object(j.g)(),F=function(e){W(Object(g.a)(Object(g.a)({},S),{},Object(O.a)({},e.currentTarget.name,e.currentTarget.value)))},G=function(){var e=Object(x.a)(p.a.mark((function e(n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,c(E.url,E.method,null,btoa("".concat(S.login,":").concat(S.password)));case 4:a=e.sent,t.login(a,btoa("".concat(S.login,":").concat(S.password)),d),q.push(u),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(A.jsxs)(T.a,{component:"main",maxWidth:"xs",children:[Object(A.jsx)(w.a,{}),Object(A.jsxs)(B.a,{elevation:3,className:e.paper,children:[Object(A.jsx)("img",{src:_,alt:"logo",width:"80%",height:"80%",className:e.logo}),Object(A.jsx)(C.a,{variant:"h5",align:"center",children:"\u0414\u041e\u0411\u0420\u041e \u041f\u041e\u0416\u0410\u041b\u041e\u0412\u0410\u0422\u042c!"}),Object(A.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:G,children:[Object(A.jsx)(y.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"login",label:"\u041b\u043e\u0433\u0438\u043d",name:"login",autoComplete:"login",autoFocus:!0,onChange:F}),Object(A.jsx)(y.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",id:"password",onChange:F,autoComplete:"current-password"}),Object(A.jsx)(k.a,{control:Object(A.jsx)(N.a,{checked:d,onChange:function(e){b(e.currentTarget.checked)},color:"primary"}),label:"\u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u043c\u0435\u043d\u044f"}),Object(A.jsx)(v.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:i,className:e.submit,children:"\u0412\u043e\u0439\u0442\u0438"})]})]}),Object(A.jsx)(z,{open:Boolean(s),handleClose:r,message:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c!",kind:"error"})]})}var V,H,M=n(156),L=n(157),R=function(){return Object(A.jsx)(T.a,{component:"main",maxWidth:"xs",children:Object(A.jsxs)(M.a,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{marginTop:"2rem"},spacing:2,children:[Object(A.jsx)(M.a,{item:!0,children:Object(A.jsx)(L.a,{})}),Object(A.jsx)(M.a,{item:!0,children:Object(A.jsx)(C.a,{variant:"body1",component:"p",color:"textSecondary",children:"\u041e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u043c \u0433\u0434\u0435 \u0432\u044b \u0431\u044b\u043b\u0438 \u0432 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0440\u0430\u0437..."})})]})})},X=n(153),Y=n(158),K=Object(S.a)((function(e){return{root:{margin:e.spacing(1),width:"100%",height:e.spacing(4)},text:{marginRight:e.spacing(1)}}})),Q=function(e){var t=e.task,n=K();return Object(A.jsx)(B.a,{elevation:3,className:n.root,children:Object(A.jsxs)(M.a,{container:!0,direction:"row",justify:"center",className:n.root,children:[Object(A.jsx)(M.a,{item:!0,xs:5,className:n.text,children:Object(A.jsxs)("span",{children:["\u041a\u0432\u0430\u0434\u0440\u0430\u0442 - ",t.runwayUnit.name]})}),Object(A.jsx)(M.a,{item:!0,xs:3,className:n.text,children:Object(A.jsxs)("span",{children:["\u041b\u0451\u0434 - ",t.runwayUnit.icing]})}),Object(A.jsx)(M.a,{item:!0,xs:3,className:n.text,children:Object(A.jsxs)("span",{children:["\u0421\u043d\u0435\u0433 - ",t.runwayUnit.snowLevel]})})]})})},Z=n(66),$=n(67),ee=n(68),te=n.p+"static/media/airport.47805ce5.jpg",ne=n(81),ae=(ee.a.div(V||(V=Object(Z.a)(["\n  height: 100vh;\n  width: 100vw;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  align-content: flex-start;\n"]))),ee.a.div(H||(H=Object(Z.a)(["\n  display: flex;\n  justify-content: center;\n  width: 100%;\n  max-width: calc(100vw - 60px);\n  margin-bottom: 10px;\n  button {\n    margin-left: 10px;\n    width: 2em;\n  }\n"]))),function(e){e.task;var t=Object(ne.useMediaPredicate)("(min-width: 700px)");return Object(A.jsx)($.b,{defaultScale:1,defaultPositionX:0,defaultPositionY:0,children:function(e){e.zoomIn,e.zoomOut,e.resetTransform;return Object(A.jsx)(r.a.Fragment,{children:Object(A.jsxs)($.a,{children:[t?Object(A.jsx)("img",{src:te,alt:"airport",width:"50%",height:"50%",style:{transform:"rotate(270deg)"}}):Object(A.jsx)("img",{src:te,alt:"airport",width:"100%",height:"100%"}),Object(A.jsx)("img",{src:te,alt:"airport",width:"100%",height:"100%",style:{transform:t?"rotate(270deg)":"none"}}),Object(A.jsx)("img",{src:te,alt:"airport",width:"100%",height:"100%",style:{transform:t?"rotate(270deg)":"none"}})]})})}})}),re=Object(S.a)((function(e){return{root:{height:"98vh",padding:e.spacing(1.5),width:"100%","@media screen and (min-device-width: 700px)":{width:"100%"}},tasks:{marginTop:e.spacing(1),height:"10%",padding:e.spacing(.5),maxHeight:"10%",overflow:"auto"},map:{marginTop:e.spacing(1),height:"70%",overflow:"hidden"},buttonGroup:{marginTop:e.spacing(1),height:"20%",padding:e.spacing(2)},button:{width:"100%",height:"100%"},list:{margin:0,padding:0}}}));function ce(){var e=re(),t=Object(a.useContext)(I),n=P().request,r=Object(a.useState)([]),c=Object(f.a)(r,2),i=c[0],s=c[1],o=Object(a.useState)(!1),l=Object(f.a)(o,2),j=l[0],u=l[1];return Object(a.useEffect)((function(){n(W.url(t.user.id),W.method,null,t.user.token).then((function(e){console.log(e),s(e)}))}),[]),Object(A.jsxs)(T.a,{component:"main",maxWidth:"lg",className:e.root,children:[Object(A.jsx)(B.a,{elevation:3,className:e.tasks,children:Object(A.jsx)(X.a,{className:e.list,children:i.map((function(t,n){return Object(A.jsx)(Y.a,{className:e.list,children:Object(A.jsx)(Q,{task:t},n)})}))})}),Object(A.jsx)(B.a,{elevation:3,className:e.map,children:Object(A.jsx)(ae,{task:i[0]})}),Object(A.jsx)(B.a,{elevation:3,className:e.buttonGroup,children:Object(A.jsxs)(M.a,{container:!0,spacing:1,children:[Object(A.jsx)(M.a,{item:!0,xs:6,children:Object(A.jsx)(v.a,{variant:"outlined",color:"primary",className:e.button,onClick:function(){return u(!0)},children:"\u041d\u0410\u0427\u0410\u041b \u0420\u0410\u0411\u041e\u0422\u0423"})}),Object(A.jsx)(M.a,{item:!0,xs:6,children:Object(A.jsx)(v.a,{variant:"outlined",color:"primary",className:e.button,onClick:function(){return u(!0)},children:"\u0417\u0410\u041a\u041e\u041d\u0427\u0418\u041b \u0420\u0410\u0411\u041e\u0422\u0423"})}),Object(A.jsx)(M.a,{item:!0,xs:6,children:Object(A.jsx)(v.a,{variant:"outlined",color:"primary",className:e.button,onClick:function(){return u(!0)},children:"\u0412\u041e\u0417\u0412\u0420\u0410\u0429\u0410\u042e\u0421\u042c \u041d\u0410 \u0411\u0410\u0417\u0423"})}),Object(A.jsx)(M.a,{item:!0,xs:6,children:Object(A.jsx)(v.a,{variant:"outlined",color:"primary",className:e.button,onClick:function(){return u(!0)},children:"\u0422\u0415\u0425\u041d\u0418\u0427\u0415\u0421\u041a\u0418\u0419 \u041f\u0415\u0420\u0415\u0420\u042b\u0412"})})]})}),Object(A.jsx)(z,{open:j,handleClose:function(){return u(!1)},message:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u0430 \u0434\u0438\u0441\u043f\u0435\u0442\u0447\u0435\u0440\u0443",kind:"info"})]})}var ie=n(166),se=n(162),oe=Object(S.a)((function(e){return{root:{height:"98vh",padding:e.spacing(1.5),width:"100%","@media screen and (min-device-width: 700px)":{width:"100%"}},quadrant:{marginTop:e.spacing(1),height:e.spacing(4),padding:e.spacing(.8)},map:{marginTop:e.spacing(1),height:"70%",overflow:"hidden"},buttonGroup:{marginTop:e.spacing(1),marginBottom:e.spacing(1),height:"20%",padding:e.spacing(2)},list:{margin:0,padding:0},text:{marginTop:e.spacing(2)},radio:{margin:"0px auto"}}}));function le(){var e=oe(),t=Object(a.useContext)(I),n=P().request,r=Object(a.useState)([]),c=Object(f.a)(r,2),i=c[0],s=c[1],o=Object(a.useState)(!1),l=Object(f.a)(o,2),j=l[0],u=l[1],d=Object(a.useState)(!1),b=Object(f.a)(d,2),m=b[0],h=b[1];return Object(a.useEffect)((function(){n(W.url(t.user.id),W.method,null,t.user.token).then((function(e){console.log(e),s(e)}))}),[]),Object(A.jsxs)(T.a,{component:"main",maxWidth:"lg",className:e.root,children:[Object(A.jsx)(B.a,{elevation:3,className:e.map,children:Object(A.jsx)(ae,{task:i[0]})}),Object(A.jsx)(B.a,{elevation:3,className:e.quadrant,children:"\u041a\u0432\u0430\u0434\u0440\u0430\u0442 - 24"}),Object(A.jsxs)(B.a,{elevation:3,className:e.buttonGroup,children:[Object(A.jsxs)(M.a,{container:!0,direction:"row",justify:"center",children:[Object(A.jsx)(M.a,{item:!0,xs:6,children:Object(A.jsx)(v.a,{variant:"outlined",color:"primary",fullWidth:!0,onClick:function(){return h(!1)},children:"\u041e\u0431\u043b\u0435\u0434\u0435\u043d\u0435\u043d\u0438\u0435"})}),Object(A.jsx)(M.a,{item:!0,xs:6,children:Object(A.jsx)(v.a,{variant:"outlined",color:"primary",fullWidth:!0,onClick:function(){return h(!0)},children:"\u0417\u0430\u0441\u043d\u0435\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u044c"})})]}),m?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(C.a,{align:"center",className:e.text,children:"\u0423\u0440\u043e\u0432\u0435\u043d\u044c \u0441\u043d\u0435\u0433\u0430"}),Object(A.jsxs)(ie.a,{row:!0,"aria-label":"position",name:"position",className:e.radio,defaultValue:"1",children:[Object(A.jsx)(k.a,{value:"1",control:Object(A.jsx)(se.a,{color:"primary"}),label:"1",labelPlacement:"start"}),Object(A.jsx)(k.a,{value:"2",control:Object(A.jsx)(se.a,{color:"primary"}),label:"2",labelPlacement:"start"}),Object(A.jsx)(k.a,{value:"3",control:Object(A.jsx)(se.a,{color:"primary"}),label:"3",labelPlacement:"start"}),Object(A.jsx)(k.a,{value:"4",control:Object(A.jsx)(se.a,{color:"primary"}),label:"4",labelPlacement:"start"}),Object(A.jsx)(k.a,{value:"5",control:Object(A.jsx)(se.a,{color:"primary"}),label:"5",labelPlacement:"start"})]})]}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(C.a,{align:"center",className:e.text,children:"\u0421\u0442\u0435\u043f\u0435\u043d\u044c \u043e\u0431\u043b\u0435\u0434\u0435\u043d\u0435\u043d\u0438\u044f"}),Object(A.jsxs)(ie.a,{row:!0,"aria-label":"position",name:"position",className:e.radio,defaultValue:"1",children:[Object(A.jsx)(k.a,{value:"1",control:Object(A.jsx)(se.a,{color:"primary"}),label:"1",labelPlacement:"start"}),Object(A.jsx)(k.a,{value:"2",control:Object(A.jsx)(se.a,{color:"primary"}),label:"2",labelPlacement:"start"}),Object(A.jsx)(k.a,{value:"3",control:Object(A.jsx)(se.a,{color:"primary"}),label:"3",labelPlacement:"start"})]})]})]}),Object(A.jsx)(v.a,{variant:"outlined",color:"primary",fullWidth:!0,onClick:function(){return u(!0)},children:"\u041e\u0422\u041f\u0420\u0410\u0412\u0418\u0422\u042c"}),Object(A.jsx)(z,{open:j,handleClose:function(){return u(!1)},message:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u0430 \u0434\u0438\u0441\u043f\u0435\u0442\u0447\u0435\u0440\u0443",kind:"info"})]})}var je=n(86),ue=Object(je.a)({palette:{primary:{main:"#499be7"},secondary:{main:"#e57373"},success:{main:"#4791db"}}});var de,be,me,he,pe=function(){var e=function(){var e=Object(a.useContext)(I),t=P(),n=t.request,r=t.loading,c=t.clearError;return Object(a.useEffect)((function(){var t=localStorage.getItem("user");n(E.url,E.method,null,t).then((function(n){console.log(n),e.login(n,t||"",!0)})).catch((function(){e.resetUser(),c()}))}),[]),Object(l.a)((function(){return Object(A.jsx)(j.d,{children:r?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(j.b,{exact:!0,path:m,children:Object(A.jsx)(R,{})}),Object(A.jsx)(j.a,{to:m})]}):Object(A.jsx)(A.Fragment,{children:e.user.isAuth?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(j.b,{exact:!0,path:u,children:Object(A.jsx)(ce,{})}),Object(A.jsx)(j.b,{exact:!0,path:d,children:Object(A.jsx)(le,{})}),Object(A.jsx)(j.a,{to:u})]}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(j.b,{exact:!0,path:b,children:Object(A.jsx)(J,{})}),Object(A.jsx)(j.a,{to:b})]})})})}))}();return Object(A.jsx)(s.a,{theme:ue,children:Object(A.jsx)(o.a,{children:e})})},xe=n(59),Oe=n(85),ge=n(60),fe=(n(108),n(15)),ve=new(de=function e(t){Object(Oe.a)(this,e),Object(xe.a)(this,"user",be,this),Object(xe.a)(this,"login",me,this),Object(xe.a)(this,"resetUser",he,this),this.user=t?{id:t.id,token:"",name:t.name,surname:t.surname,patronymic:t.patronymic,isAuth:!0}:{id:-1,token:"",name:"",surname:"",patronymic:"",isAuth:!1}},be=Object(ge.a)(de.prototype,"user",[fe.e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{id:-1,token:"",name:"",surname:"",patronymic:"",isAuth:!1}}}),me=Object(ge.a)(de.prototype,"login",[fe.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n,a){e.user={id:t.id,token:n,name:t.name,surname:t.surname,patronymic:t.patronymic,isAuth:!0},a&&localStorage.setItem("user",n)}}}),he=Object(ge.a)(de.prototype,"resetUser",[fe.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.user={id:-1,token:"",name:"",surname:"",patronymic:"",isAuth:!1},localStorage.clear()}}}),de)(null);i.a.render(Object(A.jsx)(U,{value:ve,children:Object(A.jsx)(r.a.StrictMode,{children:Object(A.jsx)(pe,{})})}),document.getElementById("root"))}},[[109,1,2]]]);
//# sourceMappingURL=main.3679d724.chunk.js.map